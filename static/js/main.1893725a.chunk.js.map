{"version":3,"sources":["index.js"],"names":["window","localStorage","getItem","setItem","App","props","state","score","gameStarted","startClicked","startTime","error","startGame","bind","endGame","this","setState","timer","Math","random","myTimeout","setTimeout","document","getElementById","style","backgroundColor","time","Date","getTime","clearTimeout","className","id","onClick","React","Component","ReactDOM","render"],"mappings":"+PAIgBA,OAAOC,aAElBA,aAAaC,QAAQ,cACxBD,aAAaE,QAAQ,YAAa,M,IAG9BC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,MAAQ,CACXC,MAAO,EACPC,aAAa,EACbC,cAAc,EACdC,UAAW,KACXC,OAAO,GAGT,EAAKC,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,QAAU,EAAKA,QAAQD,KAAb,gBAZE,E,wDAiBN,IAAD,OAEVE,KAAKC,SAAS,CACZL,OAAO,EACPF,cAAc,IAIhB,IAAIQ,EAAQ,IAAAC,KAAKC,SAA2B,IAC5CJ,KAAKK,UAAYC,YAAW,WAC1BC,SAASC,eAAe,OAAOC,MAAMC,gBAAkB,eAEvD,IACIC,GADI,IAAIC,MACCC,UAEb,EAAKZ,SAAS,CACZR,aAAa,EACbE,UAAWgB,MAEZT,K,gCASH,IAA+B,IAA3BF,KAAKT,MAAME,cAAqD,IAA5BO,KAAKT,MAAMG,aAEjDoB,aAAad,KAAKK,WAClBL,KAAKC,SAAS,CACZL,OAAO,EACPJ,MAAO,EACPE,cAAc,SAEX,IAA+B,IAA3BM,KAAKT,MAAME,cAAoD,IAA5BO,KAAKT,MAAMG,aAAuB,CAC9E,IAGIF,GAHI,IAAIoB,MACCC,UAEMb,KAAKT,MAAMI,UAE9BY,SAASC,eAAe,OAAOC,MAAMC,gBAAkB,qBAGZ,SAAvCxB,aAAaC,QAAQ,cAGhBK,EAAQN,aAAaC,QAAQ,cAAgBD,aAAaC,QAAQ,aAAe,IAFxFD,aAAaE,QAAQ,YAAaI,GAKpCQ,KAAKC,SAAS,CACZR,aAAa,EACbC,cAAc,EACdF,MAAOA,O,+BAOX,OACE,6BACE,wDACA,iDAAsB,0BAAMuB,UAAU,WAAhB,SAAtB,iBACA,wBAAIA,UAAU,UAA8B,IAArBf,KAAKT,MAAMK,MAAiB,iCAAmCI,KAAKT,MAAMC,MAAQ,EAAI,kBAAoBQ,KAAKT,MAAMC,MAAQ,KAAO,sBAC3J,yBAAKuB,UAAU,MAAMC,GAAG,MAAMC,QAASjB,KAAKD,SAC1C,uBAAGgB,UAAU,aAAa7B,aAAaC,QAAQ,aAAe,EAAI,cAAgBD,aAAaC,QAAQ,aAAe,kBAAU,MAElI,4BAAQ8B,QAASjB,KAAKH,WAAtB,c,GAvFUqB,IAAMC,WA8FxBC,IAASC,OAAO,kBAAChC,EAAD,MAASkB,SAASC,eAAe,W","file":"static/js/main.1893725a.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"./main.css\";\r\n\r\nlet myStorage = window.localStorage;\r\n\r\nif (!localStorage.getItem('highscore')) {\r\n  localStorage.setItem('highscore', null);\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      score: 0,\r\n      gameStarted: false,\r\n      startClicked: false,\r\n      startTime: null,\r\n      error: false\r\n    }\r\n    // Bind event handlers\r\n    this.startGame = this.startGame.bind(this);\r\n    this.endGame = this.endGame.bind(this);\r\n\r\n    let myTimeout;\r\n  }\r\n\r\n  startGame() {\r\n    // Reset error\r\n    this.setState({\r\n      error: false,\r\n      startClicked: true,\r\n    });\r\n\r\n    // Create a random amount of time - used so users can't get used to a pattern and it's truly reaction based\r\n    let timer = Math.random() * (4000 - 1000) + 1000;\r\n    this.myTimeout = setTimeout(() => {\r\n      document.getElementById('bar').style.backgroundColor = 'var(--green)';\r\n\r\n      let d = new Date();\r\n      let time = d.getTime();\r\n\r\n      this.setState({\r\n        gameStarted: true,\r\n        startTime: time\r\n      });\r\n    }, timer);\r\n\r\n  }\r\n\r\n  endGame() {\r\n    /*\r\n    Created state: startClicked so that the error only pops up if a user has actually started the game. Where as before it would come up if a user clicked on the bar\r\n    before they clicked start\r\n    */\r\n    if (this.state.gameStarted === false && this.state.startClicked === true) {\r\n      // Clear timeout so startGame code doesn't execute\r\n      clearTimeout(this.myTimeout);\r\n      this.setState({\r\n        error: true,\r\n        score: 0,\r\n        startClicked: false\r\n      });\r\n    } else if (this.state.gameStarted === true && this.state.startClicked === true) {\r\n      let d = new Date();\r\n      let time = d.getTime();\r\n\r\n      let score = time - this.state.startTime;\r\n\r\n      document.getElementById('bar').style.backgroundColor = 'var(--light-blue)';\r\n\r\n      // Check to see if there's a highscore already, if there is, check if score is lower\r\n      if (localStorage.getItem('highscore') ===  'null') {\r\n        localStorage.setItem('highscore', score);\r\n      }\r\n      else if (score < localStorage.getItem('highscore') && localStorage.getItem('highscore') > 0) {\r\n        localStorage.setItem('highscore', score);\r\n      }\r\n      this.setState({\r\n        gameStarted: false,\r\n        startClicked: false,\r\n        score: score\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        <h1>Reaction Time Speed Test</h1>\r\n        <p>When the bar turns <span className='c-green'>green</span>, click on it</p>\r\n        <h2 className='score'>{this.state.error === true ? \"Don't click the bar too early!\" : this.state.score > 0 ? 'Your time was: ' + this.state.score + 'ms' : \"Don't mess this up\"}</h2>\r\n        <div className='bar' id='bar' onClick={this.endGame}>\r\n          <p className='highscore'>{localStorage.getItem('highscore') > 0 ? 'Highscore: ' + localStorage.getItem('highscore') + 'ms ðŸ¥³' : ' '}</p>\r\n        </div>\r\n        <button onClick={this.startGame}>Start</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}